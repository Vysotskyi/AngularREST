<div class="col-md-12 main">
    <div class="panel panel-default">
        <div class="panel-heading">
            TO DO MANAGER - TEST TASK
        </div>
        <div class="panel-body">
            <div ui-sortable="sortableOptions" ng-model="projects">
            <div class="col-md-3 task" data-ng-repeat="project in projects">
                <div class="panel panel-primary">
                    <div class="panel-heading col-md-12">
                        <div class="name col-md-9" data-ng-bind="project.name"></div>
                        <div class="active col-md-3">
                            <a class="btn btn-default" type="button" data-ng-click="editProject(project)">
                                <span class="glyphicon glyphicon glyphicon-pencil"></span>
                            </a>
                            <a class="btn btn-info" type="button" data-ng-click="deleteProject(project)">
                                <span class="glyphicon glyphicon-remove"></span>
                            </a>
                        </div>
                    </div>
                    <div class="panel-body">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th data-ng-repeat="header in taskHeaders" data-ng-click="project.order(header)">
                                        {{header}}
                                        <span class="glyphicon"
                                              ng-if="project.tasks.length > 0"
                                              ng-show="project.predicate == header"
                                              ng-class="{'glyphicon-arrow-down' : project.reverse, 'glyphicon-arrow-up' : !project.reverse}"></span>
                                    </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody ui-sortable="project.sortableOptions" ng-model="project.tasks">
                                <tr ng-if="!project.tasks.length" class="placeholder">
                                    <td colspan="4" class="no-tasks">
                                        <div class="alert alert-info">No tasks. You can create new task for this project!</div>
                                    </td>
                                </tr>
                                <tr data-ng-repeat="task in project.tasks  | orderBy:project.predicate:project.reverse">
                                    <td data-ng-bind="task.title"></td>
                                    <td data-ng-bind="task.date | normalDate | date:'medium'"></td>
                                    <td>
                                        <span class="glyphicon glyphicon-flag"
                                              ng-class="{'minor': task.status == 1, 'major': task.status == 2, 'critical': task.status == 3}"></span>
                                    </td>
                                    <td>
                                        <a class="btn btn-default" type="button" data-ng-click="project.editTask(task)">
                                            <span class="glyphicon glyphicon glyphicon-pencil"></span>
                                        </a>
                                        <a class="btn btn-primary" type="button" data-ng-click="project.deleteTask(task)">
                                            <span class="glyphicon glyphicon-remove"></span>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="panel-footer">
                        <a class="btn btn-default " data-ng-click="project.addTask()"> <i class="glyphicon glyphicon glyphicon-plus"></i> Add new task</a>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <div class="panel-footer">
            <a class="btn btn-default" data-ng-click="addProject()"> <i class="glyphicon glyphicon glyphicon-plus"></i> Add new project</a>
        </div>
    </div>
</div>